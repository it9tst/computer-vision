<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Zen API: Extending Zen</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="style.css" rel="stylesheet" type="text/css" />
<link href="extra-style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <!-- <td id="projectlogo"><img alt="Logo" src="logo.png"/></td> -->
  <td style="padding-left: 0.5em;">
   <div id="projectname">Zen API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Home</span></a></li>
      <li class="current"><a href="pages.html"><span>Topics</span></a></li>
      <li><a href="modules.html"><span>Types</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('k_api-_extending.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Extending Zen </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The Zen API can be extended by defining new type assemblies. This allows new values, classes, or interfaces to be defined using Zen's type system. Because Zen supports object-oriented and reflective programming techniques that are not directly supported in the C language, these features are provided through library support. In order to simplify the process of defining new types, Zen relies heavily on macros as syntactic aids.</p>
<h1><a class="anchor" id="assemblies"></a>
Assemblies</h1>
<p>Defining a new type assembly is fairly straightforward. Let's consider a new assembly called MyApi that contains a few value types and classes.</p>
<p>First, type assemblies are usually associated with a specific library (dll/so or lib). Due to DLL import/export rules in Visual C++, it is necessary to create import/export macros for each new library and to use these macros when declaring functions and data. For dynamic libraries, this can be accomplished with the following code:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#if defined (MY_API_EMIT)</span></div>
<div class="line"><span class="preprocessor">#   define MyFx(TYPE)    kExportFx(TYPE)        </span></div>
<div class="line"><span class="preprocessor">#   define MyDx(TYPE)    kExportDx(TYPE)        </span></div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line"><span class="preprocessor">#   define MyFx(TYPE)    kImportFx(TYPE)        </span></div>
<div class="line"><span class="preprocessor">#   define MyDx(TYPE)    kImportDx(TYPE)        </span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
</div><!-- fragment --><p>And for static libraries or applications:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#if defined (MY_API_EMIT)</span></div>
<div class="line"><span class="preprocessor">#   define MyFx(TYPE)    kInFx(TYPE)            </span></div>
<div class="line"><span class="preprocessor">#   define MyDx(TYPE)    kInFx(TYPE)            </span></div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line"><span class="preprocessor">#   define MyFx(TYPE)    kInFx(TYPE)        </span></div>
<div class="line"><span class="preprocessor">#   define MyDx(TYPE)    kInFx(TYPE)        </span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
</div><!-- fragment --><p>Next, to declare the MyApi assembly so that other code can construct and use the assembly, add the following line to a header file (e.g. MyApiLib.x.h):</p>
<div class="fragment"><div class="line"><span class="comment">//MyApiLib.x.h</span></div>
<div class="line"><a class="code" href="k_api_def_8h_a2d24c49c081b765ccef9bd7992af5aab.html#a2d24c49c081b765ccef9bd7992af5aab">kDeclareAssemblyEx</a>(My, MyApi)</div>
</div><!-- fragment --><p>The first argument to the kDeclareAssembly macro specifies the prefix for the MyApi function/data declaration macros (as defined above). The second argument specifies the name of the assembly.</p>
<p>Finally, the assembly is defined in a source file (e.g. MyApiLib.c):</p>
<div class="fragment"><div class="line"><span class="comment">//MyApiLib.c</span></div>
<div class="line"><a class="code" href="k_api_def_8h_a1d2be32f11626f9639eb83f823ee5f23.html#a1d2be32f11626f9639eb83f823ee5f23">kBeginAssemblyEx</a>(My, MyApi, MY_API_VERSION, MY_PLATFORM_VERSION)</div>
<div class="line"></div>
<div class="line">    <span class="comment">//Assembly dependencies</span></div>
<div class="line">    <a class="code" href="k_api_def_8h_a3d9da14c28d18c3e7f1ea555b5d33394.html#a3d9da14c28d18c3e7f1ea555b5d33394">kAddDependency</a>(kApi) </div>
<div class="line"></div>
<div class="line">    <span class="comment">//Values</span></div>
<div class="line">    <a class="code" href="k_api_def_8h_a6269e76104012260a634d601bc296327.html#a6269e76104012260a634d601bc296327">kAddType</a>(MyEnum)</div>
<div class="line">    <a class="code" href="k_api_def_8h_a6269e76104012260a634d601bc296327.html#a6269e76104012260a634d601bc296327">kAddType</a>(MyStruct)</div>
<div class="line"></div>
<div class="line">    <span class="comment">//Classes</span></div>
<div class="line">    <a class="code" href="k_api_def_8h_a6269e76104012260a634d601bc296327.html#a6269e76104012260a634d601bc296327">kAddType</a>(MyFirstClass)</div>
<div class="line">    <a class="code" href="k_api_def_8h_a6269e76104012260a634d601bc296327.html#a6269e76104012260a634d601bc296327">kAddType</a>(MySecondClass)</div>
<div class="line">    <a class="code" href="k_api_def_8h_a6269e76104012260a634d601bc296327.html#a6269e76104012260a634d601bc296327">kAddType</a>(MyThirdClass)    </div>
<div class="line"></div>
<div class="line"><a class="code" href="k_api_def_8h_a94ab3d76dcb8e75818d05bd0257664c4.html#a94ab3d76dcb8e75818d05bd0257664c4">kEndAssemblyEx</a>()</div>
</div><!-- fragment --><p>The first argument to the kBeginAssemblyEx macro is the function/data declaration prefix for MyApi. The second argument specifies the name of the assembly and the third argument specifies the assembly version.</p>
<p>Assembly definition takes place between the kBeginAssemblyEx and kEndAssemblyEx macros. In the example above, the first line specifies an assembly dependency. Assembly dependencies inform the type system about inter-assembly relationships. In this case, the MyApi assembly depends on the kApi assembly. Specifying assembly dependencies ensures that assemblies are initialized in the correct order.</p>
<p>Next, the various values and types that are part of the MyApi assembly are added. There are no requirements about the order in which types are added during assembly definition. For example, it is valid to add a derived type before its base.</p>
<p>If a type is omitted from the assembly definition block, the type system will be unaware of its existence and the corresponding type value will be null. For example, if we forget to add MyThirdClass and then try to access its type information using <a class="el" href="k_api_def_8h_ad287f5a265ccaf8067dd1f3d8bdcdc53.html#ad287f5a265ccaf8067dd1f3d8bdcdc53" title="Returns the kType object associated with the specified class, interface, or value symbol...">kTypeOf(MyThirdClass)</a>, the kTypeOf macro will yield null.</p>
<h1><a class="anchor" id="values"></a>
Values</h1>
<p>Value types are declared using the following syntax:</p>
<div class="fragment"><div class="line"><span class="comment">/* MyTypes.h */</span></div>
<div class="line"></div>
<div class="line"><span class="comment">//C structure declaration </span></div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>MyStruct</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="structk32s.html">k32s</a> fieldA; </div>
<div class="line">    <a class="code" href="structk32s.html">k32s</a> fieldB; </div>
<div class="line">} MyStruct; </div>
<div class="line"></div>
<div class="line"><span class="comment">//C enum declaration</span></div>
<div class="line"><span class="keyword">typedef</span> <a class="code" href="structk32s.html">k32s</a> MyEnum; </div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#define MY_ENUM_VALUE_A         (123)</span></div>
<div class="line"><span class="preprocessor">#define MY_ENUM_VALUE_B         (456)         </span></div>
<div class="line"></div>
<div class="line"><span class="comment">/* MyTypes.x.h */</span></div>
<div class="line"></div>
<div class="line"><span class="comment">//Zen structure declaration</span></div>
<div class="line"><a class="code" href="k_api_def_8h_a913729f19c89df3069e5a2983ac521fc.html#a913729f19c89df3069e5a2983ac521fc">kDeclareValueEx</a>(My, MyStruct, <a class="code" href="classk_value.html">kValue</a>)</div>
<div class="line"></div>
<div class="line"><span class="comment">//Zen enum declaration</span></div>
<div class="line"><a class="code" href="k_api_def_8h_a5f7aafd18b567ef0dad1eb2776af06a9.html#a5f7aafd18b567ef0dad1eb2776af06a9">kDeclareEnumEx</a>(My, MyEnum, <a class="code" href="classk_value.html">kValue</a>)</div>
</div><!-- fragment --><p>Each value declaration consists of two parts; a declaration for the C compiler, and a corresponding declaration for the Zen type system (macro). By convention, Zen type declarations are placed in private headers (.x.h).</p>
<p>The macros to declare structures and enumerations have the same arguments. First, the function/data declaration prefix for the assembly. Second, the name of the type being declared, and third, the base from which the type descends. In most cases, value types descend from <a class="el" href="classk_value.html" title="Root of all Zen value types. ">kValue</a>, which is the root of all Zen value types.</p>
<p>Value types are defined using the following syntax:</p>
<div class="fragment"><div class="line"><span class="comment">/* MyTypes.c */</span></div>
<div class="line"></div>
<div class="line"><span class="comment">//Zen structure definition</span></div>
<div class="line"><a class="code" href="k_api_def_8h_a8edf58545488085e86a6e624a98dc4f2.html#a8edf58545488085e86a6e624a98dc4f2">kBeginValueEx</a>(My, MyStruct)</div>
<div class="line">    <a class="code" href="k_api_def_8h_a580a72484f8bd7c146d3bcc75f444c78.html#a580a72484f8bd7c146d3bcc75f444c78">kAddField</a>(MyStruct, <a class="code" href="structk32s.html">k32s</a>, fieldA)</div>
<div class="line">    <a class="code" href="k_api_def_8h_a580a72484f8bd7c146d3bcc75f444c78.html#a580a72484f8bd7c146d3bcc75f444c78">kAddField</a>(MyStruct, k32s, fieldB)</div>
<div class="line"><a class="code" href="k_api_def_8h_aeeb440c7a422f1965fb60557aab5aab3.html#aeeb440c7a422f1965fb60557aab5aab3">kEndValueEx</a>()</div>
<div class="line"></div>
<div class="line"><span class="comment">//Zen enum definition</span></div>
<div class="line"><a class="code" href="k_api_def_8h_af743a206cac197eb559f013062c00155.html#af743a206cac197eb559f013062c00155">kBeginEnumEx</a>(My, MyEnum)</div>
<div class="line">    <a class="code" href="k_api_def_8h_afd502f3590ba9f65c32894ebcf28ead9.html#afd502f3590ba9f65c32894ebcf28ead9">kAddEnumerator</a>(MyEnum, MY_ENUM_VALUE_A)</div>
<div class="line">    <a class="code" href="k_api_def_8h_afd502f3590ba9f65c32894ebcf28ead9.html#afd502f3590ba9f65c32894ebcf28ead9">kAddEnumerator</a>(MyEnum, MY_ENUM_VALUE_B)</div>
<div class="line"><a class="code" href="k_api_def_8h_a7e316a4c74c346531ea304b59d0b8c74.html#a7e316a4c74c346531ea304b59d0b8c74">kEndEnumEx</a>()</div>
</div><!-- fragment --><p> The first argument to the kBeginValueEx/kBeginEnumEx macros is the function/data declaration prefix for MyApi. The second argument specifies the name of the type and the third argument specifies the type base.</p>
<p>Type definition takes place between the begin/end macros. For structures, the fields can be defined, and for enumerations, the enumerator values can be defined. For simple types that have limited use, field and enumerator definitions can be omitted; these optional definitions enable the type system to provide better services via reflection, but aren't strictly required.</p>
<h1><a class="anchor" id="classes"></a>
Classes</h1>
<p>Class declarations come in multiple forms. A <em>full</em> class declaration requires all elements of the class declaration to be provided by the programmer, while other kinds of class declarations allow some elements to be omitted. In most cases, simpler declaration alternatives (discussed at the end of this section) are appropriate, but in order to understand the details, we will examine full class declarations first.</p>
<p>Full class declarations use the following syntax:</p>
<div class="fragment"><div class="line"><span class="comment">/* MyType.h */</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">typedef</span> <a class="code" href="classk_object.html">kObject</a> MyType; </div>
<div class="line"></div>
<div class="line">MyFx(<a class="code" href="structk_status.html">kStatus</a>) MyType_Construct(MyType* my, <a class="code" href="classk_alloc.html">kAlloc</a> allocator); </div>
<div class="line"></div>
<div class="line">MyFx(<a class="code" href="structk_status.html">kStatus</a>) MyType_MethodA(MyType my, k32s arg); </div>
<div class="line">MyFx(<a class="code" href="structk_status.html">kStatus</a>) MyType_MethodB(MyType my, <a class="code" href="structk64u.html">k64u</a> arg); </div>
<div class="line"></div>
<div class="line"><span class="comment">/* MyType.x.h */</span></div>
<div class="line"></div>
<div class="line"><span class="comment">//C class declaration </span></div>
<div class="line">typedef struct MyTypeClass</div>
<div class="line">{</div>
<div class="line">    kObjectClass base;        <span class="comment">//base class</span></div>
<div class="line">    k32s fieldA;              <span class="comment">//instance field</span></div>
<div class="line">    <a class="code" href="structk64u.html">k64u</a> fieldB;              <span class="comment">//instance field</span></div>
<div class="line">} MyTypeClass; </div>
<div class="line"></div>
<div class="line"><span class="comment">//C static declaration </span></div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>MyTypeStatic</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="structk_atomic32s.html">kAtomic32s</a> accessCounter;        <span class="comment">//static field;                                         </span></div>
<div class="line">} MyTypeStatic; </div>
<div class="line"></div>
<div class="line"><span class="comment">//C virtual table declaration </span></div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>MyTypeVTable</div>
<div class="line">{</div>
<div class="line">    kObjectVTable base;                                 <span class="comment">//base virtual table</span></div>
<div class="line">    <a class="code" href="structk_status.html">kStatus</a> (<a class="code" href="k_api_def_8h.html#a7a1836de49cb7e634ce1d623916ccee8">kCall</a>* VMethodA)(MyType my, k32s arg);     <span class="comment">//virtual method added by MyType</span></div>
<div class="line">} MyTypeVTable; </div>
<div class="line"></div>
<div class="line"><span class="comment">//Zen full class declaration</span></div>
<div class="line"><a class="code" href="k_api_def_8h_a145472d25cf11e0ad5eea761efa17760.html#a145472d25cf11e0ad5eea761efa17760">kDeclareFullClassEx</a>(My, MyType, <a class="code" href="classk_object.html">kObject</a>)</div>
<div class="line"></div>
<div class="line"><span class="comment">//Private method declarations; used in the implementation of MyType</span></div>
<div class="line">MyFx(<a class="code" href="structk_status.html">kStatus</a>) xMyType_InitStatic();</div>
<div class="line">MyFx(<a class="code" href="structk_status.html">kStatus</a>) xMyType_ReleaseStatic();</div>
<div class="line">MyFx(<a class="code" href="structk_status.html">kStatus</a>) xMyType_Init(MyType my, <a class="code" href="classk_type.html">kType</a> type, <a class="code" href="classk_alloc.html">kAlloc</a> alloc); </div>
<div class="line">MyFx(<a class="code" href="structk_status.html">kStatus</a>) xMyType_VRelease(MyType my); </div>
</div><!-- fragment --><p>A full class declaration requires C structure definitions for the class instance (MyTypeClass), static data (MyTypeStatic), and virtual table (MyTypeVTable).</p>
<p>A class instance structure represents data fields that will be part of each MyType instance. The first field of any Zen class should always be the class structure for its base type (and the field name must be <em>base</em>); this arrangement is used to support data inheritance.</p>
<p>A virtual table structure is used to store pointers for inherited and/or overridden methods. The first field of any Zen virtual table should always be the virtual table structure for its base type (and the field name must be <em>base</em>); this arrangement is used to support method inheritance.</p>
<p>In addition to class instances, the Zen type system also supports static data for each class. Static fields represent variables that are shared between all instances of a class.</p>
<p>The kDeclareFullClassEx macro completes the class declaration. The first argument to kDeclareFullClassEx specifies the function/data declaration prefix for the assembly (My), the second argument specifies the name of the type being declared (MyType), and the third argument specifies the base from which the type descends (<a class="el" href="classk_object.html" title="Root of all Zen classes. ">kObject</a>).</p>
<p>Full class definitions require the following syntax:</p>
<div class="fragment"><div class="line"><span class="comment">/* MyType.c */</span></div>
<div class="line"></div>
<div class="line"><span class="comment">//Zen full class definition</span></div>
<div class="line"><a class="code" href="k_api_def_8h_ad834b9b56461c98c34cddde241879d1b.html#ad834b9b56461c98c34cddde241879d1b">kBeginFullClassEx</a>(My, MyType)</div>
<div class="line">    <a class="code" href="k_api_def_8h_aa7de122cfebe0069856479935962ea9e.html#aa7de122cfebe0069856479935962ea9e">kAddPrivateVMethod</a>(MyType, <a class="code" href="classk_object.html">kObject</a>, VRelease)      <span class="comment">//MyType overrides kObject_VRelease</span></div>
<div class="line">    <a class="code" href="k_api_def_8h_aa7de122cfebe0069856479935962ea9e.html#aa7de122cfebe0069856479935962ea9e">kAddPrivateVMethod</a>(MyType, MyType, VMethodA)       <span class="comment">//MyType provides a new virtual method (VMethodA)</span></div>
<div class="line"><a class="code" href="k_api_def_8h_a98558ba7806a0191e71d588cf77c696e.html#a98558ba7806a0191e71d588cf77c696e">kEndFullClassEx</a>()</div>
</div><!-- fragment --><p>Virtual method overrides are specified using the kAddVMethod or kAddPrivateVMethod macros, which take three arguments: the overriding type, the overridden type, and the virtual method name. In the example above, the MyType class overrides the VRelease method from the <a class="el" href="classk_object.html" title="Root of all Zen classes. ">kObject</a> class, and provides one virtual method of its own (VMethodA). The only difference between kAddVMethod or kAddPrivateVMethod is that kAddPrivateVMethod expects the function name to begin with an 'x' &ndash; an informal convention for indicating that a method name is private.</p>
<p>The implementations of the various methods required by the MyType class are shown below:</p>
<div class="fragment"><div class="line"><span class="comment">/* MyType.c */</span></div>
<div class="line"></div>
<div class="line"><span class="comment">//static initialization; called by type system at assembly load time</span></div>
<div class="line">MyFx(<a class="code" href="structk_status.html">kStatus</a>) xMyType_InitStatic()</div>
<div class="line">{   </div>
<div class="line">    <a class="code" href="k_api_def_8h_acec11827df0cff8e211d4bea342844bd.html#acec11827df0cff8e211d4bea342844bd">kStaticObj</a>(MyType);       <span class="comment">//declares a local &#39;sobj&#39; variable that points to MyType&#39;s static data</span></div>
<div class="line"></div>
<div class="line">    <span class="comment">//static data is always zero-initialized by the type system, so the </span></div>
<div class="line">    <span class="comment">//initialization statement below isn&#39;t strictly necessary</span></div>
<div class="line">    sobj-&gt;accessCounter = 0; </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="structk_status.html#a02c13222183e0739ec0017a51078bbf4">kOK</a>; </div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">//static release; called by type system at assembly unload time</span></div>
<div class="line">MyFx(<a class="code" href="structk_status.html">kStatus</a>) xMyType_ReleaseStatic()</div>
<div class="line">{    </div>
<div class="line">    <a class="code" href="k_api_def_8h_acec11827df0cff8e211d4bea342844bd.html#acec11827df0cff8e211d4bea342844bd">kStaticObj</a>(MyType);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="classk_utils_aa73ef40b024881dc52afd7d48e55c2e2.html#aa73ef40b024881dc52afd7d48e55c2e2">kLogf</a>(<span class="stringliteral">&quot;Total access count: %d&quot;</span>, sobj-&gt;accessCounter); </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="structk_status.html#a02c13222183e0739ec0017a51078bbf4">kOK</a>; </div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">//instance constructor; allocates and initializes a new MyType object</span></div>
<div class="line">MyFx(<a class="code" href="structk_status.html">kStatus</a>) MyType_Construct(MyType* my, <a class="code" href="classk_alloc.html">kAlloc</a> allocator)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classk_alloc.html">kAlloc</a> alloc = <a class="code" href="classk_alloc_a476d7b27ba59e9dccf389212cffb5a68.html#a476d7b27ba59e9dccf389212cffb5a68">kAlloc_Fallback</a>(allocator);    <span class="comment">//gets the default allocator if kNULL given</span></div>
<div class="line">    <a class="code" href="structk_status.html">kStatus</a> status; </div>
<div class="line"></div>
<div class="line">    <span class="comment">//allocate memory for a MyType class instance structure (object)</span></div>
<div class="line">    <a class="code" href="k_api_def_8h_a1fbf6e6f10e80263bb9e081a13a98624.html#a1fbf6e6f10e80263bb9e081a13a98624">kCheck</a>(<a class="code" href="classk_alloc_a53e74c88f45a1137cb45e713ab8d780c.html#a53e74c88f45a1137cb45e713ab8d780c">kAlloc_GetObject</a>(alloc, <a class="code" href="k_api_def_8h_ad287f5a265ccaf8067dd1f3d8bdcdc53.html#ad287f5a265ccaf8067dd1f3d8bdcdc53">kTypeOf</a>(MyType), my)); </div>
<div class="line"></div>
<div class="line">    <span class="comment">//call an instance initializer for the MyType object</span></div>
<div class="line">    <span class="keywordflow">if</span> (!<a class="code" href="k_api_def_8h_ac46dae1355286994f96b37a58757dacb.html#ac46dae1355286994f96b37a58757dacb">kSuccess</a>(status = xkMy_Init(*my, <a class="code" href="k_api_def_8h_ad287f5a265ccaf8067dd1f3d8bdcdc53.html#ad287f5a265ccaf8067dd1f3d8bdcdc53">kTypeOf</a>(MyType), alloc)))</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">//free object memory in the event of failure</span></div>
<div class="line">        <a class="code" href="classk_alloc_aa4f6e740f29ad763276b175d88f2d4b5.html#aa4f6e740f29ad763276b175d88f2d4b5">kAlloc_FreeRef</a>(alloc, my); </div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> status; </div>
<div class="line">} </div>
<div class="line"></div>
<div class="line"><span class="comment">//instance initializer; initializes instance variables, allocates any necessary resources</span></div>
<div class="line">MyFx(<a class="code" href="structk_status.html">kStatus</a>) xMyType_Init(MyType my, <a class="code" href="classk_type.html">kType</a> type, <a class="code" href="classk_alloc.html">kAlloc</a> alloc)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="k_api_def_8h_ae40e7983c17ede650897020d67a36994.html#ae40e7983c17ede650897020d67a36994">kObjR</a>(MyType, my);     <span class="comment">//declares a local &#39;obj&#39; variable (this pointer), without performing a type check</span></div>
<div class="line">    <a class="code" href="structk_status.html">kStatus</a> exception; </div>
<div class="line"></div>
<div class="line">    <span class="comment">//initialize base as first action</span></div>
<div class="line">    <a class="code" href="k_api_def_8h_a1fbf6e6f10e80263bb9e081a13a98624.html#a1fbf6e6f10e80263bb9e081a13a98624">kCheck</a>(<a class="code" href="classk_object_a01741befbad0cfe6b263eff7d38d3aa1.html#a01741befbad0cfe6b263eff7d38d3aa1">kObject_Init</a>(my, type, alloc)); </div>
<div class="line"></div>
<div class="line">    <span class="comment">//next, initialize instance fields such that it would be safe to call MyType_VRelease</span></div>
<div class="line">    obj-&gt;fieldA = 0; </div>
<div class="line">    obj-&gt;fieldB = 0; </div>
<div class="line"></div>
<div class="line">    <span class="comment">//next, perform any complex initializations</span></div>
<div class="line">    <a class="code" href="k_api_def_8h_af1e5c2c07a6097900cd29cf287aaa2fc.html#af1e5c2c07a6097900cd29cf287aaa2fc">kTry</a></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="k_api_def_8h_a5d45e755bab73b5329527d7d027621cc.html#a5d45e755bab73b5329527d7d027621cc">kTest</a>(<a class="code" href="classk_utils_aa73ef40b024881dc52afd7d48e55c2e2.html#aa73ef40b024881dc52afd7d48e55c2e2">kLogf</a>(<span class="stringliteral">&quot;There&#39;s nothing left to initialize for this class\n&quot;</span>));     </div>
<div class="line">    }</div>
<div class="line">    <a class="code" href="k_api_def_8h_afdf9303d21c01b26529051cad4999e7e.html#afdf9303d21c01b26529051cad4999e7e">kCatch</a>(&amp;exception)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">//in the event of failure, perform any necessary clean-up</span></div>
<div class="line">        xMyType_VRelease(my); </div>
<div class="line"></div>
<div class="line">        <a class="code" href="k_api_def_8h_acc0e2ab7cbc5c63a04b327a8eacf2c22.html#acc0e2ab7cbc5c63a04b327a8eacf2c22">kEndCatch</a>(exception); </div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="structk_status.html#a02c13222183e0739ec0017a51078bbf4">kOK</a>; </div>
<div class="line">} </div>
<div class="line"></div>
<div class="line"><span class="comment">//virtual method implementation; overrides kObject_VRelease; called by kObject_Destroy/kObject_Dispose</span></div>
<div class="line">MyFx(<a class="code" href="structk_status.html">kStatus</a>) xMyType_VRelease(MyType my)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="k_api_def_8h_a5ba92574ff1899c1bfee4998be89e442.html#a5ba92574ff1899c1bfee4998be89e442">kObj</a>(MyType, my);     <span class="comment">//declares a local &#39;obj&#39; variable (this pointer) and performs a type check in debug builds</span></div>
<div class="line"></div>
<div class="line">    <span class="comment">//free any resources held by this object</span></div>
<div class="line">    <a class="code" href="k_api_def_8h_a1fbf6e6f10e80263bb9e081a13a98624.html#a1fbf6e6f10e80263bb9e081a13a98624">kCheck</a>(<a class="code" href="classk_utils_aa73ef40b024881dc52afd7d48e55c2e2.html#aa73ef40b024881dc52afd7d48e55c2e2">kLogf</a>(<span class="stringliteral">&quot;There&#39;s nothing to free for this class.\n&quot;</span>));     </div>
<div class="line"></div>
<div class="line">    <span class="comment">//uninitialize base as final action</span></div>
<div class="line">    <a class="code" href="k_api_def_8h_a1fbf6e6f10e80263bb9e081a13a98624.html#a1fbf6e6f10e80263bb9e081a13a98624">kCheck</a>(<a class="code" href="classk_object_a947219d61bdff278a2d3531f7a40fcb4.html#a947219d61bdff278a2d3531f7a40fcb4">kObject_VRelease</a>(my)); </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="structk_status.html#a02c13222183e0739ec0017a51078bbf4">kOK</a>; </div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">//public interface to MethodA virtual method; looks up method from virtual table and invokes it</span></div>
<div class="line">MyFx(<a class="code" href="structk_status.html">kStatus</a>) MyType_MethodA(MyType my, k32s arg)</div>
<div class="line">{    </div>
<div class="line">    <span class="keywordflow">return</span> xkMyType_VTable(obj)-&gt;VMethodA(my, arg); </div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">//MethodA virtual method implementation; can be overridden by classes that extend MyType</span></div>
<div class="line">MyFx(<a class="code" href="structk_status.html">kStatus</a>) xMyType_VMethodA(MyType my, k32s arg)</div>
<div class="line">{    </div>
<div class="line">    <a class="code" href="k_api_def_8h_acec11827df0cff8e211d4bea342844bd.html#acec11827df0cff8e211d4bea342844bd">kStaticObj</a>(MyType);</div>
<div class="line">    <a class="code" href="k_api_def_8h_a5ba92574ff1899c1bfee4998be89e442.html#a5ba92574ff1899c1bfee4998be89e442">kObj</a>(MyType, my);</div>
<div class="line"></div>
<div class="line">    <span class="comment">//just for fun, we&#39;ll count the number of times that this method </span></div>
<div class="line">    <span class="comment">//has been called, using a static field</span></div>
<div class="line">    <a class="code" href="k_api_def_8h_a1fbf6e6f10e80263bb9e081a13a98624.html#a1fbf6e6f10e80263bb9e081a13a98624">kCheck</a>(<a class="code" href="structk_atomic32s_a77b8bbda925bc45a5a9ab49fc1c17b93.html#a77b8bbda925bc45a5a9ab49fc1c17b93">kAtomic32s_Increment</a>(&amp;sobj-&gt;accessCounter)); </div>
<div class="line"></div>
<div class="line">    obj-&gt;fieldA = arg; </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="structk_status.html#a02c13222183e0739ec0017a51078bbf4">kOK</a>; </div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">//non-virtual method</span></div>
<div class="line">MyFx(<a class="code" href="structk_status.html">kStatus</a>) MyType_MethodB(MyType my, <a class="code" href="structk64u.html">k64u</a> arg)</div>
<div class="line">{    </div>
<div class="line">    <a class="code" href="k_api_def_8h_a5ba92574ff1899c1bfee4998be89e442.html#a5ba92574ff1899c1bfee4998be89e442">kObj</a>(MyType, my);</div>
<div class="line"></div>
<div class="line">    obj-&gt;fieldB = arg; </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="structk_status.html#a02c13222183e0739ec0017a51078bbf4">kOK</a>; </div>
<div class="line">}</div>
</div><!-- fragment --><p>In the example above, the public MyType_Construct method dynamically allocates a MyTypeClass instance using the supplied memory allocator, and then calls the xMyType_Init method to initialize the instance. After allocation and initialization, a <em>handle</em>(opaque pointer) to the MyTypeClass instance is returned to the caller. This handle is of type <em>MyType</em>, which evaluates to void*, preventing users from directly accessing the private fields defined in MyTypeClass. When a MyType handle is passed to any method in the MyType class, the handle is cast to a MyTypeClass pointer, so that internal instance fields can be accessed. By convention, the instance pointer (or <em>this pointer</em>) used in each method is named <em>obj</em>. Helper macros are used to declare this local variable.</p>
<p>Every class that has static data must declare a pair of methods to initialize and release the static data. Zen macros assume that these methods will be called x[TypeName]_InitStatic and x[TypeName]_ReleaseStatic. Static initialization methods are called at assembly load time, while static release methods are called at assembly unload time. The static data for any class can be accessed using the kStaticOf macro; by convention static data pointers are named <em>sobj</em>.</p>
<p>While full class declarations provide control over all declaration elements, they are overkill for most classes. Accordingly, simpler macros are available:</p>
<p><b>kDeclareClassEx/kBeginClassEx/kEndClassEx</b><br />
 Virtual table and static data declarations (and static methods) can be omitted.</p>
<p><b>kDeclareVirtualClassEx/kBeginVirtualClassEx/kEndVirtualClassEx</b><br />
 Static data declarations (and static methods) can be omitted.</p>
<p><b>kDeclareStaticClassEx/kBeginStaticClassEx/kEndStaticClassEx</b><br />
 Class instance and virtual table declarations can be omitted.</p>
<p>The kDeclareClassEx macro is the most common way to declare a class. Using this approach, the virtual table is assumed to be identical to that of the base class, and static data is not available. Virtual methods defined in base classes can still be overridden using the kAddVMethod macro. The kDeclareVirtualClassEx macro is useful when a class must declare new virtual methods for child classes to override, but does not require static data. The kDeclareStaticClassEx macro is useful when a class contains only static data (e.g., a class that represents a collection of static methods, where variables are shared between the methods).</p>
<h1><a class="anchor" id="interface"></a>
Interfaces</h1>
<p>Zen interfaces are similar to abstract base classes containing no data fields; essentially, an interface contributes a virtual table to classes that implement the interface. In this way, interfaces can be used to provide a limited form of multiple inheritance.</p>
<p>Interface declarations use the following syntax:</p>
<div class="fragment"><div class="line"><span class="comment">/* MyType.h */</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">typedef</span> kObject MyType; </div>
<div class="line"></div>
<div class="line">MyFx(<a class="code" href="structk_status.html">kStatus</a>) MyType_MethodA(MyType my, k32s arg); </div>
<div class="line">MyFx(<a class="code" href="structk_status.html">kStatus</a>) MyType_MethodB(MyType my, <a class="code" href="structk64u.html">k64u</a> arg); </div>
<div class="line"></div>
<div class="line"><span class="comment">/* MyType.x.h */</span></div>
<div class="line"></div>
<div class="line"><span class="comment">//C virtual table declaration </span></div>
<div class="line">typedef struct MyTypeVTable</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="structk_msg_queue_item_option_af18ce9969172d8248c75feeae0fc92cd.html#af18ce9969172d8248c75feeae0fc92cd">kStatus</a> (<a class="code" href="k_api_def_8h.html#a7a1836de49cb7e634ce1d623916ccee8">kCall</a>* VMethodA)(MyType my, k32s arg);     <span class="comment">//virtual method added by MyType</span></div>
<div class="line">    <a class="code" href="structk_msg_queue_item_option_af18ce9969172d8248c75feeae0fc92cd.html#af18ce9969172d8248c75feeae0fc92cd">kStatus</a> (<a class="code" href="k_api_def_8h.html#a7a1836de49cb7e634ce1d623916ccee8">kCall</a>* VMethodB)(MyType my, <a class="code" href="structk64u.html">k64u</a> arg);     <span class="comment">//virtual method added by MyType</span></div>
<div class="line">} MyTypeVTable; </div>
<div class="line"></div>
<div class="line"><span class="comment">//Zen interface declaration</span></div>
<div class="line"><a class="code" href="k_api_def_8h_afeae33cf5233c72601f8435b7a5af1f3.html#afeae33cf5233c72601f8435b7a5af1f3">kDeclareInterfaceEx</a>(My, MyType, kNull)</div>
</div><!-- fragment --><p>An interface declaration requires only a virtual table (MyTypeVTable); the kDeclareInterfaceEx macro completes the interface declaration. The first argument to kDeclareInterfaceEx specifies the function/data declaration prefix for the assembly (My), the second argument specifies the name of the type being declared (MyType), and the third argument specifies the base from which the type descends (in this case, a special symbol called kNull, because the interface does not extend another interface).</p>
<p>As with classes, an interface's virtual table structure is used to store pointers for inherited and/or overridden methods. If an interface extends another interface (atypical), then the first field of the virtual table should be the virtual table of the base type (the field name should be <em>base</em>).</p>
<p>Interface definitions require the following syntax:</p>
<div class="fragment"><div class="line"><span class="comment">/* MyType.c */</span></div>
<div class="line"></div>
<div class="line"><span class="comment">//Zen interface definition</span></div>
<div class="line"><a class="code" href="k_api_def_8h_ac27272a22fdc788b3fa4035e173f6ae7.html#ac27272a22fdc788b3fa4035e173f6ae7">kBeginInterfaceEx</a>(My, MyType)</div>
<div class="line">    <a class="code" href="k_api_def_8h_aa7de122cfebe0069856479935962ea9e.html#aa7de122cfebe0069856479935962ea9e">kAddPrivateVMethod</a>(MyType, MyType, VMethodA)       <span class="comment">//MyType virtual method (VMethodA)</span></div>
<div class="line">    <a class="code" href="k_api_def_8h_aa7de122cfebe0069856479935962ea9e.html#aa7de122cfebe0069856479935962ea9e">kAddPrivateVMethod</a>(MyType, MyType, VMethodB)       <span class="comment">//MyType virtual method (VMethodB)</span></div>
<div class="line"><a class="code" href="k_api_def_8h_af5f74ce0462edbd49b7b27b25b3e01b5.html#af5f74ce0462edbd49b7b27b25b3e01b5">kEndInterfaceEx</a>()</div>
</div><!-- fragment --><p>As with classes, virtual methods are specified using the kAddVMethod macro.</p>
<p>Example implementations of the various methods required by the MyType interface are shown below:</p>
<div class="fragment"><div class="line"><span class="comment">/* MyType.c */</span></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//public interface to MethodA virtual method; looks up method from virtual table and invokes it</span></div>
<div class="line">MyFx(<a class="code" href="structk_status.html">kStatus</a>) MyType_MethodA(MyType my, k32s arg)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> xkMyType_VTable(my)-&gt;VMethodA(my, arg); </div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">//default implementation of VMethodA; will be overridden by classes that implement this interface</span></div>
<div class="line">MyFx(<a class="code" href="structk_status.html">kStatus</a>) xMyType_VMethodA(MyType my, k32s arg)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="structk_status.html#a02c13222183e0739ec0017a51078bbf4">kOK</a>; </div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">//public interface to MethodB virtual method; looks up method from virtual table and invokes it</span></div>
<div class="line">MyFx(<a class="code" href="structk_status.html">kStatus</a>) MyType_MethodB(MyType my, <a class="code" href="structk64u.html">k64u</a> arg)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> xkMyType_VTable(my)-&gt;VMethodB(my, arg); </div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">//default implementation of VMethodB; will be overridden by classes that implement this interface</span></div>
<div class="line">MyFx(<a class="code" href="structk_status.html">kStatus</a>) xMyType_VMethodB(MyType my, <a class="code" href="structk64u.html">k64u</a> arg)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="structk_status.html#a02c13222183e0739ec0017a51078bbf4">kOK</a>; </div>
<div class="line">}</div>
</div><!-- fragment --><p>To implement an interface in a class, use the syntax shown below:</p>
<div class="fragment"><div class="line"><a class="code" href="k_api_def_8h_a47241b7e8de448c13ee9f24e8952c4ea.html#a47241b7e8de448c13ee9f24e8952c4ea">kBeginClassEx</a>(My, Other, kObject) </div>
<div class="line">    </div>
<div class="line">    <span class="comment">//virtual methods</span></div>
<div class="line">    <a class="code" href="k_api_def_8h_aa7de122cfebe0069856479935962ea9e.html#aa7de122cfebe0069856479935962ea9e">kAddPrivateVMethod</a>(Other, kObject, VRelease)</div>
<div class="line"></div>
<div class="line">    <span class="comment">//MyType interface </span></div>
<div class="line">    <a class="code" href="k_api_def_8h_ae40cda03544bfc983ecb67788c859747.html#ae40cda03544bfc983ecb67788c859747">kAddInterface</a>(Other, MyType)</div>
<div class="line">    <a class="code" href="k_api_def_8h_aeb6fd67174991613770c721e544c8058.html#aeb6fd67174991613770c721e544c8058">kAddIVMethod</a>(Other, MyType, VMethodA, MethodA)</div>
<div class="line">    <a class="code" href="k_api_def_8h_aeb6fd67174991613770c721e544c8058.html#aeb6fd67174991613770c721e544c8058">kAddIVMethod</a>(Other, MyType, VMethodB, MethodB)</div>
<div class="line"></div>
<div class="line"><a class="code" href="k_api_def_8h_ab5e273fc2642d8591e7f3ae7b396c8c7.html#ab5e273fc2642d8591e7f3ae7b396c8c7">kEndClassEx</a>() </div>
<div class="line"></div>
<div class="line"><span class="comment">//...other implementation...</span></div>
<div class="line"></div>
<div class="line"><span class="comment">//implementation of MyType_MethodA</span></div>
<div class="line">MyFx(<a class="code" href="structk_status.html">kStatus</a>) Other_MethodA(Other other, k32s arg)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="k_api_def_8h_a5ba92574ff1899c1bfee4998be89e442.html#a5ba92574ff1899c1bfee4998be89e442">kObj</a>(OtherClass, other); </div>
<div class="line"></div>
<div class="line">    obj-&gt;fieldA = arg; </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="structk_status.html#a02c13222183e0739ec0017a51078bbf4">kOK</a>; </div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">//implementation of MyType_MethodB</span></div>
<div class="line">MyFx(<a class="code" href="structk_status.html">kStatus</a>) Other_MethodB(Other other, <a class="code" href="structk64u.html">k64u</a> arg)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="k_api_def_8h_a5ba92574ff1899c1bfee4998be89e442.html#a5ba92574ff1899c1bfee4998be89e442">kObj</a>(OtherClass, other); </div>
<div class="line"></div>
<div class="line">    obj-&gt;fieldB = arg; </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="structk_status.html#a02c13222183e0739ec0017a51078bbf4">kOK</a>; </div>
<div class="line">}</div>
</div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="classk_assembly.html" title="Represents a library of types. ">kAssembly</a>, <a class="el" href="classk_value.html" title="Root of all Zen value types. ">kValue</a>, <a class="el" href="classk_object.html" title="Root of all Zen classes. ">kObject</a> </dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.7-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="help.html">Topics</a></li>
    <li class="footer">This site is best viewed with Firefox. Copyright (C) 2003-2016 by LMI Technologies.</li>
  </ul>
</div>
</body>
</html>
